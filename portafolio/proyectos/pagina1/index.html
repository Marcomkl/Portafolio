<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UrbanStock Pro - Gestión de Inventario</title>
  
  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#8B5CF6',
            secondary: '#10B981',
            accent: '#F59E0B',
            dark: '#1F2937',
            light: '#F8FAFC'
          }
        }
      }
    }
  </script>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Alpine.js -->
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.13.3/dist/cdn.min.js" defer></script>
  
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 50%, #6D28D9 100%);
    }
    
    .glass-effect {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .product-card {
      transition: all 0.3s ease;
    }
    
    .product-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(139, 92, 246, 0.2);
    }
    
    .cart-drawer {
      transition: transform 0.3s ease-in-out;
    }
    
    .cart-drawer.open {
      transform: translateX(0) !important;
    }
    
    .cart-drawer.closed {
      transform: translateX(100%) !important;
    }
    
    .toast {
      position: fixed;
      right: 20px;
      bottom: 20px;
      padding: 15px 20px;
      border-radius: 12px;
      z-index: 1000;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    }
    
    .toast.success {
      background: linear-gradient(135deg, #10B981, #059669);
      color: white;
    }
    
    .toast.error {
      background: linear-gradient(135deg, #EF4444, #DC2626);
      color: white;
    }
    
    .loading-spinner {
      border: 4px solid rgba(255, 255, 255, 0.1);
      border-left: 4px solid #8B5CF6;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .nav-item {
      transition: all 0.3s ease;
      position: relative;
    }
    
    .nav-item.active {
      color: #8B5CF6;
      transform: scale(1.05);
    }
    
    .nav-item.active::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      right: 0;
      height: 3px;
      background: #8B5CF6;
      border-radius: 3px;
    }
    
    .pulse-glow {
      animation: pulse-glow 2s infinite;
    }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
      50% { box-shadow: 0 0 30px rgba(139, 92, 246, 0.8); }
    }
    
    .modal-overlay {
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
    }
    
    .modal-content {
      animation: modalEnter 0.3s ease-out;
    }
    
    @keyframes modalEnter {
      from {
        opacity: 0;
        transform: scale(0.9) translateY(-20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }
    
    .stats-card {
      background: linear-gradient(135deg, #8B5CF6, #7C3AED);
      color: white;
    }
  </style>
</head>

<body class="bg-light text-dark" x-data="appData()" x-init="init()">
  <!-- Toast Notifications -->
  <div x-show="toast.visible" 
       x-transition:enter="transition ease-out duration-300"
       x-transition:enter-start="opacity-0 transform scale-90"
       x-transition:enter-end="opacity-100 transform scale-100"
       x-transition:leave="transition ease-in duration-300"
       x-transition:leave-start="opacity-100 transform scale-100"
       x-transition:leave-end="opacity-0 transform scale-90"
       :class="`toast ${toast.type}`" 
       @click="toast.visible = false">
    <span x-text="toast.message"></span>
  </div>

  <!-- Loading Overlay -->
  <div x-show="loading" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80">
    <div class="bg-white p-8 rounded-2xl shadow-2xl flex flex-col items-center">
      <div class="loading-spinner mb-4"></div>
      <p class="text-dark font-semibold">Cargando...</p>
    </div>
  </div>

  <!-- Header -->
  <header class="gradient-bg shadow-2xl text-white">
    <div class="container mx-auto px-4 py-4">
      <div class="flex flex-col md:flex-row items-center justify-between">
        <div class="flex items-center mb-4 md:mb-0">
          <div class="bg-white p-2 rounded-xl mr-4">
            <i class="fas fa-boxes text-primary text-2xl"></i>
          </div>
          <h1 class="text-3xl font-bold logo-font tracking-tight">
            UrbanStock <span class="text-accent">Pro</span>
          </h1>
        </div>
        
        <div class="flex-1 mx-4 max-w-md">
          <div class="relative">
            <input 
              type="text" 
              placeholder="Buscar productos..." 
              x-model="searchTerm"
              @input="performSearch()"
              class="w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl focus:outline-none focus:ring-2 focus:ring-accent text-white placeholder-white/70 glass-effect"
            >
            <button @click="performSearch()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-white">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
        
        <div class="flex items-center space-x-4">
          <button @click="toggleCart()" class="relative text-white hover:text-accent transition duration-300">
            <i class="fas fa-shopping-cart text-xl"></i>
            <span x-show="cart.items.length > 0" class="absolute -top-2 -right-2 bg-accent text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold" x-text="cart.items.length"></span>
          </button>
          
          <template x-if="!currentUser">
            <button @click="showLoginModal = true" class="bg-accent hover:bg-amber-600 text-white px-6 py-3 rounded-xl transition duration-300 flex items-center font-semibold shadow-lg">
              <i class="fas fa-user mr-2"></i> INGRESAR
            </button>
          </template>
          
          <template x-if="currentUser">
            <div class="relative" x-data="{ dropdownOpen: false }">
              <button @click="dropdownOpen = !dropdownOpen" class="flex items-center space-x-2 focus:outline-none text-white">
                <div class="w-10 h-10 bg-accent rounded-full flex items-center justify-center font-bold">
                  <span x-text="currentUser.email.charAt(0).toUpperCase()"></span>
                </div>
                <i class="fas fa-chevron-down text-accent"></i>
              </button>
              
              <div x-show="dropdownOpen" 
                   @click.away="dropdownOpen = false"
                   class="absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-2xl py-2 z-10 border border-gray-200">
                <template x-if="isAdmin">
                  <a href="javascript:void(0)" @click="showAdminPanel(); dropdownOpen = false" class="block px-4 py-3 text-dark hover:bg-primary hover:text-white transition duration-300 border-b border-gray-100">
                    <i class="fas fa-cog mr-3 text-primary"></i>Panel Administración
                  </a>
                </template>
                <a href="javascript:void(0)" @click="showProfile(); dropdownOpen = false" class="block px-4 py-3 text-dark hover:bg-primary hover:text-white transition duration-300 border-b border-gray-100">
                  <i class="fas fa-user mr-3 text-primary"></i>Mi Perfil
                </a>
                <a href="javascript:void(0)" @click="logout(); dropdownOpen = false" class="block px-4 py-3 text-dark hover:bg-primary hover:text-white transition duration-300">
                  <i class="fas fa-sign-out-alt mr-3 text-primary"></i>Cerrar Sesión
                </a>
              </div>
            </div>
          </template>
        </div>
      </div>
    </div>
  </header>
  
  <!-- Navigation -->
  <nav class="bg-white shadow-lg border-b border-gray-200">
    <div class="container mx-auto">
      <ul class="flex overflow-x-auto py-4 space-x-8 px-4 whitespace-nowrap">
        <li>
          <a href="javascript:void(0)" 
             :class="currentCategory === 'todos' ? 'nav-item active text-primary font-bold' : 'nav-item text-gray-600 hover:text-primary font-semibold'"
             class="transition duration-300 text-lg"
             @click="setCategory('todos')">
            <i class="fas fa-th-large mr-2"></i>Todos
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" 
             :class="currentCategory === 'remeras' ? 'nav-item active text-primary font-bold' : 'nav-item text-gray-600 hover:text-primary font-semibold'"
             class="transition duration-300 text-lg"
             @click="setCategory('remeras')">
            <i class="fas fa-tshirt mr-2"></i>Remeras
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" 
             :class="currentCategory === 'buzos' ? 'nav-item active text-primary font-bold' : 'nav-item text-gray-600 hover:text-primary font-semibold'"
             class="transition duration-300 text-lg"
             @click="setCategory('buzos')">
            <i class="fas fa-hoodie mr-2"></i>Buzos & Hoodies
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" 
             :class="currentCategory === 'pantalones' ? 'nav-item active text-primary font-bold' : 'nav-item text-gray-600 hover:text-primary font-semibold'"
             class="transition duration-300 text-lg"
             @click="setCategory('pantalones')">
            <i class="fas fa-vest mr-2"></i>Pantalones
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" 
             :class="currentCategory === 'accesorios' ? 'nav-item active text-primary font-bold' : 'nav-item text-gray-600 hover:text-primary font-semibold'"
             class="transition duration-300 text-lg"
             @click="setCategory('accesorios')">
            <i class="fas fa- glasses mr-2"></i>Accesorios
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" 
             :class="currentCategory === 'ofertas' ? 'nav-item active text-primary font-bold' : 'nav-item text-gray-600 hover:text-primary font-semibold'"
             class="transition duration-300 text-lg"
             @click="setCategory('ofertas')">
            <i class="fas fa-tag mr-2"></i>Ofertas
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Main Content Area -->
  <main>
    <!-- Hero Section -->
    <section x-show="currentView === 'home'" class="gradient-bg py-20 mb-8 relative overflow-hidden">
      <div class="absolute inset-0 bg-black/20"></div>
      <div class="container mx-auto px-4 text-center relative z-10">
        <h1 class="text-5xl md:text-7xl font-black text-white mb-6 tracking-tighter">
          UrbanStock <span class="text-accent">Pro</span>
        </h1>
        <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto leading-relaxed">
          Sistema profesional de gestión de inventario. <strong class="text-accent">Control total, crecimiento asegurado.</strong>
        </p>
        <button @click="scrollToProducts()" class="bg-accent hover:bg-amber-600 text-white px-12 py-4 rounded-xl text-xl font-bold transition duration-300 shadow-2xl pulse-glow transform hover:scale-105">
          <i class="fas fa-rocket mr-3"></i>EXPLORAR INVENTARIO
        </button>
        
        <!-- Stats -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-16 max-w-4xl mx-auto">
          <div class="stats-card p-6 rounded-2xl text-center shadow-lg">
            <div class="text-3xl font-black mb-2" x-text="products.length"></div>
            <div class="text-white/90 text-sm font-semibold">Productos Activos</div>
          </div>
          <div class="stats-card p-6 rounded-2xl text-center shadow-lg">
            <div class="text-3xl font-black mb-2" x-text="totalStock"></div>
            <div class="text-white/90 text-sm font-semibold">Stock Total</div>
          </div>
          <div class="stats-card p-6 rounded-2xl text-center shadow-lg">
            <div class="text-3xl font-black mb-2" x-text="lowStockCount"></div>
            <div class="text-white/90 text-sm font-semibold">Stock Bajo</div>
          </div>
          <div class="stats-card p-6 rounded-2xl text-center shadow-lg">
            <div class="text-3xl font-black mb-2">2</div>
            <div class="text-white/90 text-sm font-semibold">Sucursales</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-12 gap-4">
          <h2 class="text-4xl font-black text-dark" x-text="categoryTitle"></h2>
          <div class="flex flex-col sm:flex-row gap-4">
            <div class="flex items-center space-x-3">
              <label class="text-gray-600 font-semibold">Ordenar:</label>
              <select 
                x-model="sortOption" 
                @change="sortProducts()"
                class="bg-white border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent shadow-sm"
              >
                <option value="newest">Más Nuevo</option>
                <option value="price-low">Precio: Menor a Mayor</option>
                <option value="price-high">Precio: Mayor a Menor</option>
                <option value="discount">Mejores Ofertas</option>
                <option value="stock">Mayor Stock</option>
              </select>
            </div>
            <div class="flex items-center space-x-3" x-show="isAdmin && currentView === 'home'">
              <button @click="showAdminPanel()" class="bg-primary hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition duration-300 font-semibold shadow-lg">
                <i class="fas fa-cog mr-2"></i>Admin
              </button>
            </div>
          </div>
        </div>

        <!-- Resultados de búsqueda -->
        <div x-show="isSearching" class="mb-6 p-6 bg-white rounded-2xl shadow-lg border border-primary/20">
          <div class="flex justify-between items-center">
            <p class="text-primary font-bold text-lg">
              <span x-text="searchResults.length"></span> productos encontrados para "<span x-text="searchTerm"></span>"
            </p>
            <button @click="clearSearch()" class="text-gray-500 hover:text-primary flex items-center transition duration-300">
              <i class="fas fa-times mr-2"></i> Limpiar búsqueda
            </button>
          </div>
        </div>

        <div x-show="filteredProducts.length === 0" class="text-center py-16">
          <div class="text-gray-400 mb-6">
            <i class="fas fa-search text-6xl"></i>
          </div>
          <p class="text-2xl text-gray-600 mb-4" x-text="isSearching ? 'No encontramos productos para tu búsqueda' : 'No hay productos disponibles en esta categoría'"></p>
          <button x-show="isSearching" @click="clearSearch()" class="mt-4 bg-primary hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition duration-300 font-semibold shadow-lg">
            VER TODOS LOS PRODUCTOS
          </button>
        </div>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
          <template x-for="product in filteredProducts" :key="product.id">
            <div class="bg-white rounded-2xl overflow-hidden product-card shadow-lg border border-gray-100 group">
              <div class="relative h-64 overflow-hidden">
                <img :src="product.image" :alt="product.name" class="w-full h-full object-cover group-hover:scale-110 transition duration-500">
                <div class="absolute top-0 right-0 m-3" x-show="product.discount">
                  <span class="bg-accent text-white text-sm font-black px-3 py-2 rounded-full shadow-lg">-<span x-text="product.discount"></span>%</span>
                </div>
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4">
                  <div class="flex justify-between text-xs text-white">
                    <span>MAIPU: <span class="font-bold" x-text="product.stock.maipu"></span></span>
                    <span>LA RIOJA: <span class="font-bold" x-text="product.stock.larioja"></span></span>
                  </div>
                </div>
              </div>
              <div class="p-6">
                <h3 class="text-xl font-bold text-dark mb-2 group-hover:text-primary transition duration-300" x-text="product.name"></h3>
                <p class="text-gray-500 text-sm mb-4 uppercase tracking-wide font-semibold" x-text="formatCategory(product.category)"></p>
                
                <div class="flex items-center justify-between mb-4">
                  <div>
                    <template x-if="product.discount">
                      <div class="flex items-center space-x-3">
                        <span class="text-2xl font-black text-primary">$<span x-text="calculateDiscountPrice(product.price, product.discount).toFixed(2)"></span></span>
                        <span class="text-lg text-gray-400 line-through">$<span x-text="product.price.toFixed(2)"></span></span>
                      </div>
                    </template>
                    <template x-if="!product.discount">
                      <span class="text-2xl font-black text-primary">$<span x-text="product.price.toFixed(2)"></span></span>
                    </template>
                  </div>
                  <button @click="showProductDetail(product)" class="text-gray-400 hover:text-primary transition duration-300" title="Ver detalles">
                    <i class="fas fa-eye text-lg"></i>
                  </button>
                </div>
                
                <div class="flex space-x-2">
                  <button @click="addToCart(product)" class="flex-1 bg-primary hover:bg-purple-700 text-white py-3 rounded-lg transition duration-300 font-semibold text-sm group-hover:shadow-lg">
                    <i class="fas fa-cart-plus mr-2"></i> AGREGAR
                  </button>
                  <template x-if="isAdmin">
                    <button @click="editProduct(product)" class="bg-secondary hover:bg-emerald-600 text-white p-3 rounded-lg transition duration-300" title="Editar producto">
                      <i class="fas fa-edit"></i>
                    </button>
                  </template>
                </div>
              </div>
            </div>
          </template>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4">
        <h2 class="text-4xl font-black text-dark text-center mb-12">¿Por qué UrbanStock Pro?</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="text-center p-8 bg-gradient-to-br from-primary to-purple-600 rounded-2xl text-white shadow-2xl transform hover:scale-105 transition duration-300">
            <div class="text-4xl mb-4">
              <i class="fas fa-chart-line"></i>
            </div>
            <h3 class="text-xl font-bold mb-4">ANALYTICS EN TIEMPO REAL</h3>
            <p class="text-white/90">Monitoreo instantáneo de stock, ventas y rendimiento por sucursal</p>
          </div>
          <div class="text-center p-8 bg-gradient-to-br from-secondary to-emerald-600 rounded-2xl text-white shadow-2xl transform hover:scale-105 transition duration-300">
            <div class="text-4xl mb-4">
              <i class="fas fa-warehouse"></i>
            </div>
            <h3 class="text-xl font-bold mb-4">GESTIÓN MULTI-SUCURSAL</h3>
            <p class="text-white/90">Control centralizado de inventario en todas tus ubicaciones</p>
          </div>
          <div class="text-center p-8 bg-gradient-to-br from-accent to-amber-600 rounded-2xl text-white shadow-2xl transform hover:scale-105 transition duration-300">
            <div class="text-4xl mb-4">
              <i class="fas fa-bell"></i>
            </div>
            <h3 class="text-xl font-bold mb-4">ALERTAS INTELIGENTES</h3>
            <p class="text-white/90">Notificaciones automáticas de stock bajo y productos populares</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Admin Panel Section -->
    <section x-show="currentView === 'admin'" class="py-8 bg-gray-50 min-h-screen">
      <div class="container mx-auto px-4">
        <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-4">
          <div>
            <h2 class="text-3xl font-black text-dark">PANEL DE ADMINISTRACIÓN</h2>
            <p class="text-gray-600 mt-2">Gestión completa de productos, stock y pedidos</p>
          </div>
          <div class="flex flex-wrap gap-4">
            <button @click="showAddProductModal = true" class="bg-primary hover:bg-purple-700 text-white px-6 py-3 rounded-xl transition duration-300 font-semibold shadow-lg flex items-center">
              <i class="fas fa-plus mr-2"></i> NUEVO PRODUCTO
            </button>
            <button @click="currentView = 'home'" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-xl transition duration-300 font-semibold shadow-lg flex items-center">
              <i class="fas fa-arrow-left mr-2"></i> VOLVER A TIENDA
            </button>
          </div>
        </div>

        <!-- Admin Stats -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
          <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-primary">
            <div class="text-3xl font-black text-primary mb-2" x-text="products.length"></div>
            <div class="text-gray-600 font-semibold">Productos Totales</div>
          </div>
          <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-secondary">
            <div class="text-3xl font-black text-secondary mb-2" x-text="orders.length"></div>
            <div class="text-gray-600 font-semibold">Pedidos Totales</div>
          </div>
          <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-accent">
            <div class="text-3xl font-black text-accent mb-2" x-text="lowStockCount"></div>
            <div class="text-gray-600 font-semibold">Stock Bajo</div>
          </div>
          <div class="bg-white p-6 rounded-2xl shadow-lg border-l-4 border-purple-500">
            <div class="text-3xl font-black text-purple-500 mb-2">$<span x-text="totalRevenue.toFixed(2)"></span></div>
            <div class="text-gray-600 font-semibold">Ingresos Totales</div>
          </div>
        </div>

        <!-- Products Management -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden mb-8">
          <div class="px-6 py-4 border-b border-gray-200">
            <h3 class="text-xl font-bold text-dark">GESTIÓN DE PRODUCTOS</h3>
          </div>
          
          <div class="overflow-x-auto">
            <table class="w-full">
              <thead class="bg-gray-50">
                <tr>
                  <th class="text-left py-4 px-6 text-gray-600 font-semibold">Producto</th>
                  <th class="text-left py-4 px-6 text-gray-600 font-semibold">Categoría</th>
                  <th class="text-left py-4 px-6 text-gray-600 font-semibold">Precio</th>
                  <th class="text-left py-4 px-6 text-gray-600 font-semibold">Stock Maipú</th>
                  <th class="text-left py-4 px-6 text-gray-600 font-semibold">Stock La Rioja</th>
                  <th class="text-left py-4 px-6 text-gray-600 font-semibold">Acciones</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <template x-for="product in products" :key="product.id">
                  <tr class="hover:bg-gray-50 transition duration-300">
                    <td class="py-4 px-6">
                      <div class="flex items-center">
                        <img :src="product.image" :alt="product.name" class="w-12 h-12 object-cover rounded-lg mr-4 shadow-sm">
                        <div>
                          <div class="text-dark font-semibold" x-text="product.name"></div>
                          <div class="text-gray-500 text-sm" x-text="product.description ? product.description.substring(0, 40) + '...' : 'Sin descripción'"></div>
                        </div>
                      </div>
                    </td>
                    <td class="py-4 px-6">
                      <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold" 
                            :class="getCategoryBadgeClass(product.category)">
                        <span x-text="formatCategory(product.category)"></span>
                      </span>
                    </td>
                    <td class="py-4 px-6">
                      <div class="flex items-center space-x-2">
                        <span class="text-dark font-bold">$<span x-text="product.price.toFixed(2)"></span></span>
                        <span x-show="product.discount" class="text-accent text-sm font-semibold">-<span x-text="product.discount"></span>%</span>
                      </div>
                    </td>
                    <td class="py-4 px-6">
                      <input 
                        type="number" 
                        x-model="product.stock.maipu" 
                        @change="updateProductStock(product.id, 'maipu', product.stock.maipu)"
                        class="w-20 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center"
                        min="0"
                      >
                    </td>
                    <td class="py-4 px-6">
                      <input 
                        type="number" 
                        x-model="product.stock.larioja" 
                        @change="updateProductStock(product.id, 'larioja', product.stock.larioja)"
                        class="w-20 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center"
                        min="0"
                      >
                    </td>
                    <td class="py-4 px-6">
                      <div class="flex space-x-2">
                        <button 
                          @click="editProduct(product)" 
                          class="bg-secondary hover:bg-emerald-600 text-white p-2 rounded-lg transition duration-300"
                          title="Editar producto"
                        >
                          <i class="fas fa-edit"></i>
                        </button>
                        <button 
                          @click="deleteProduct(product.id)" 
                          class="bg-red-500 hover:bg-red-600 text-white p-2 rounded-lg transition duration-300"
                          title="Eliminar producto"
                        >
                          <i class="fas fa-trash"></i>
                        </button>
                      </div>
                    </td>
                  </tr>
                </template>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Orders Management -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden" x-show="orders.length > 0">
          <div class="px-6 py-4 border-b border-gray-200">
            <h3 class="text-xl font-bold text-dark">GESTIÓN DE PEDIDOS</h3>
          </div>
          
          <div class="p-6">
            <div class="space-y-4">
              <template x-for="order in orders" :key="order.id">
                <div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition duration-300">
                  <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between mb-3 gap-3">
                    <div>
                      <span class="text-dark font-bold" x-text="order.id"></span>
                      <span class="text-gray-500 text-sm ml-4" x-text="formatDate(order.date)"></span>
                    </div>
                    <div class="flex items-center space-x-4">
                      <span class="px-3 py-1 bg-primary text-white text-sm rounded-full font-semibold" x-text="order.status"></span>
                      <span class="text-primary font-bold text-lg">$<span x-text="order.total.toFixed(2)"></span></span>
                    </div>
                  </div>
                  <div class="text-gray-600 text-sm mb-2">
                    Sucursal: <span class="text-dark font-semibold" x-text="getSucursalName(order.sucursal)"></span>
                  </div>
                  <div class="text-gray-600">
                    <strong>Productos:</strong>
                    <template x-for="(item, index) in order.items" :key="index">
                      <span class="text-dark ml-2" x-text="`${item.name} (x${item.quantity})`"></span>
                    </template>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>

        <div x-show="orders.length === 0" class="bg-white rounded-2xl shadow-lg p-12 text-center">
          <i class="fas fa-clipboard-list text-5xl text-gray-400 mb-4"></i>
          <p class="text-gray-600 text-lg">No hay pedidos registrados</p>
          <p class="text-gray-500 mt-2">Los pedidos aparecerán aquí cuando los clientes realicen compras</p>
        </div>
      </div>
    </section>

    <!-- Profile Section -->
    <section x-show="currentView === 'profile'" class="py-8 bg-gray-50 min-h-screen">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-black text-dark mb-8">MI PERFIL</h2>
        
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
          <!-- User Info -->
          <div class="bg-white rounded-2xl shadow-lg p-6">
            <h3 class="text-xl font-bold text-dark mb-6">INFORMACIÓN PERSONAL</h3>
            <div class="space-y-4">
              <div>
                <label class="block text-gray-600 text-sm font-semibold mb-2">Email</label>
                <p class="text-dark font-semibold" x-text="currentUser?.email || 'No disponible'"></p>
              </div>
              <div>
                <label class="block text-gray-600 text-sm font-semibold mb-2">Nombre</label>
                <p class="text-dark font-semibold" x-text="userProfile?.name || 'No especificado'"></p>
              </div>
              <div>
                <label class="block text-gray-600 text-sm font-semibold mb-2">Rol</label>
                <p class="text-dark font-semibold" x-text="isAdmin ? 'Administrador' : 'Usuario'"></p>
              </div>
            </div>
          </div>

          <!-- Recent Orders -->
          <div class="bg-white rounded-2xl shadow-lg p-6 lg:col-span-2">
            <h3 class="text-xl font-bold text-dark mb-6">PEDIDOS RECIENTES</h3>
            <div x-show="orders.length === 0" class="text-center py-8">
              <i class="fas fa-shopping-bag text-4xl text-gray-400 mb-4"></i>
              <p class="text-gray-600">No tienes pedidos recientes</p>
            </div>
            <div x-show="orders.length > 0" class="space-y-4">
              <template x-for="order in orders.slice(0, 5)" :key="order.id">
                <div class="border border-gray-200 rounded-xl p-4 hover:shadow-md transition duration-300">
                  <div class="flex justify-between items-center mb-2">
                    <span class="text-dark font-bold" x-text="order.id"></span>
                    <span class="text-primary font-bold">$<span x-text="order.total.toFixed(2)"></span></span>
                  </div>
                  <div class="flex justify-between items-center text-sm text-gray-600">
                    <span x-text="formatDate(order.date)"></span>
                    <span class="px-2 py-1 rounded-full text-xs font-semibold" 
                          :class="getStatusBadgeClass(order.status)"
                          x-text="order.status"></span>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Shopping Cart Drawer -->
  <div class="fixed inset-y-0 right-0 w-full sm:w-96 bg-white shadow-2xl z-50 overflow-y-auto cart-drawer border-l border-gray-200" :class="cartOpen ? 'open' : 'closed'">
    <div class="p-6 h-full flex flex-col">
      <div class="flex justify-between items-center mb-8">
        <h2 class="text-2xl font-black text-dark">MI CARRITO</h2>
        <button @click="toggleCart()" class="text-gray-400 hover:text-primary transition duration-300">
          <i class="fas fa-times text-xl"></i>
        </button>
      </div>
      
      <div x-show="cart.items.length === 0" class="flex-1 flex flex-col items-center justify-center text-center">
        <div class="text-gray-400 mb-6">
          <i class="fas fa-shopping-cart text-6xl"></i>
        </div>
        <p class="text-gray-600 text-lg mb-6">Tu carrito está vacío</p>
        <button @click="toggleCart(); scrollToProducts()" class="bg-primary hover:bg-purple-700 text-white px-8 py-4 rounded-xl transition duration-300 font-semibold shadow-lg">
          EXPLORAR PRODUCTOS
        </button>
      </div>
      
      <div x-show="cart.items.length > 0" class="flex-1 flex flex-col">
        <!-- Selección de sucursal -->
        <div class="mb-6 p-4 bg-primary/5 rounded-xl border border-primary/20">
          <h3 class="font-bold text-dark mb-3 text-lg">RETIRO EN SUCURSAL:</h3>
          <select x-model="selectedSucursal" class="w-full px-4 py-3 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
            <option value="maipu">POPEYE MAIPU (AV. MAIPU 1786)</option>
            <option value="larioja">POPEYE LA RIOJA (LA RIOJA 1778)</option>
            <option value="delivery">ENVÍO A DOMICILIO</option>
          </select>
        </div>
        
        <!-- Cart Items -->
        <div class="flex-1 overflow-y-auto space-y-4 mb-6">
          <template x-for="(item, index) in cart.items" :key="index">
            <div class="flex items-center space-x-4 p-4 bg-gray-50 rounded-xl border border-gray-200">
              <img :src="item.image" :alt="item.name" class="w-16 h-16 object-cover rounded-lg shadow-sm">
              <div class="flex-1">
                <h4 class="text-dark font-bold" x-text="item.name"></h4>
                <p class="text-primary font-bold">$<span x-text="(item.price * item.quantity).toFixed(2)"></span></p>
                <div class="flex items-center space-x-3 mt-2">
                  <button @click="updateCartItemQuantity(index, item.quantity - 1)" class="w-8 h-8 bg-white border border-gray-300 text-dark rounded-lg flex items-center justify-center hover:bg-primary hover:text-white transition duration-300 shadow-sm">
                    <i class="fas fa-minus text-xs"></i>
                  </button>
                  <span class="text-dark font-bold min-w-8 text-center" x-text="item.quantity"></span>
                  <button @click="updateCartItemQuantity(index, item.quantity + 1)" class="w-8 h-8 bg-white border border-gray-300 text-dark rounded-lg flex items-center justify-center hover:bg-primary hover:text-white transition duration-300 shadow-sm">
                    <i class="fas fa-plus text-xs"></i>
                  </button>
                </div>
              </div>
              <button @click="removeFromCart(index)" class="text-gray-400 hover:text-red-500 transition duration-300 p-2">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </template>
        </div>
        
        <!-- Cart Summary -->
        <div class="border-t border-gray-200 pt-6 mb-6">
          <div class="flex justify-between items-center mb-4">
            <span class="text-gray-600">Subtotal:</span>
            <span class="text-dark font-bold">$<span x-text="cartTotal.toFixed(2)"></span></span>
          </div>
          <div class="flex justify-between items-center mb-4">
            <span class="text-gray-600">Envío:</span>
            <span class="text-dark font-bold" x-text="selectedSucursal === 'delivery' ? '$500.00' : 'GRATIS'"></span>
          </div>
          <div class="flex justify-between items-center text-xl font-bold pt-4 border-t border-gray-200">
            <span class="text-dark">Total:</span>
            <span class="text-primary">$<span x-text="(cartTotal + (selectedSucursal === 'delivery' ? 500 : 0)).toFixed(2)"></span></span>
          </div>
        </div>
        
        <!-- Checkout Button -->
        <button @click="checkout()" class="w-full bg-primary hover:bg-purple-700 text-white py-4 rounded-xl transition duration-300 font-bold text-lg shadow-lg transform hover:scale-105">
          FINALIZAR COMPRA
        </button>
      </div>
    </div>
  </div>

  <!-- Product Detail Modal -->
  <div x-show="productDetailModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay" @click="productDetailModal = null">
    <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto modal-content border border-gray-200" @click.stop>
      <template x-if="productDetailModal">
        <div class="p-8">
          <div class="flex justify-between items-start mb-8">
            <h2 class="text-3xl font-black text-dark" x-text="productDetailModal.name"></h2>
            <button @click="productDetailModal = null" class="text-gray-400 hover:text-primary transition duration-300 p-2">
              <i class="fas fa-times text-xl"></i>
            </button>
          </div>
          
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div>
              <img :src="productDetailModal.image" :alt="productDetailModal.name" class="w-full h-96 object-cover rounded-2xl shadow-lg">
            </div>
            
            <div class="space-y-6">
              <div>
                <span class="inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold mb-4" 
                      :class="getCategoryBadgeClass(productDetailModal.category)">
                  <span x-text="formatCategory(productDetailModal.category)"></span>
                </span>
                
                <div class="mb-4">
                  <template x-if="productDetailModal.discount">
                    <div class="flex items-center space-x-4 mb-2">
                      <span class="text-4xl font-black text-primary">$<span x-text="calculateDiscountPrice(productDetailModal.price, productDetailModal.discount).toFixed(2)"></span></span>
                      <span class="text-2xl text-gray-400 line-through">$<span x-text="productDetailModal.price.toFixed(2)"></span></span>
                      <span class="bg-accent text-white text-sm font-black px-3 py-2 rounded-full">-<span x-text="productDetailModal.discount"></span>% OFF</span>
                    </div>
                  </template>
                  <template x-if="!productDetailModal.discount">
                    <span class="text-4xl font-black text-primary">$<span x-text="productDetailModal.price.toFixed(2)"></span></span>
                  </template>
                </div>
              </div>
              
              <div>
                <h3 class="text-dark font-bold mb-4 text-lg">STOCK DISPONIBLE</h3>
                <div class="grid grid-cols-2 gap-4">
                  <div class="bg-gray-50 p-4 rounded-xl border border-gray-200 text-center">
                    <div class="text-gray-600 text-sm mb-2 font-semibold">POPEYE MAIPU</div>
                    <div class="text-2xl font-black text-primary" x-text="productDetailModal.stock.maipu"></div>
                  </div>
                  <div class="bg-gray-50 p-4 rounded-xl border border-gray-200 text-center">
                    <div class="text-gray-600 text-sm mb-2 font-semibold">POPEYE LA RIOJA</div>
                    <div class="text-2xl font-black text-primary" x-text="productDetailModal.stock.larioja"></div>
                  </div>
                </div>
              </div>
              
              <div>
                <h3 class="text-dark font-bold mb-3 text-lg">DESCRIPCIÓN</h3>
                <p class="text-gray-600 leading-relaxed" x-text="productDetailModal.description || 'Producto de calidad premium con diseño urbano y estilo único.'"></p>
              </div>
              
              <button @click="addToCart(productDetailModal); productDetailModal = null" class="w-full bg-primary hover:bg-purple-700 text-white py-4 rounded-xl transition duration-300 font-bold text-lg shadow-lg transform hover:scale-105">
                <i class="fas fa-cart-plus mr-3"></i> AGREGAR AL CARRITO
              </button>
            </div>
          </div>
        </div>
      </template>
    </div>
  </div>

  <!-- Add Product Modal -->
  <div x-show="showAddProductModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay" @click="showAddProductModal = false">
    <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto modal-content border border-gray-200" @click.stop>
      <div class="p-8">
        <div class="flex justify-between items-center mb-8">
          <h2 class="text-2xl font-black text-dark">AGREGAR NUEVO PRODUCTO</h2>
          <button @click="showAddProductModal = false" class="text-gray-400 hover:text-primary transition duration-300 p-2">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        
        <form @submit.prevent="addNewProduct()" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Nombre del Producto</label>
              <input 
                type="text" 
                x-model="newProduct.name"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                placeholder="Ej: Remera Oversized Negra"
                required
              >
            </div>
            
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Categoría</label>
              <select 
                x-model="newProduct.category"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                required
              >
                <option value="">Seleccionar categoría</option>
                <option value="remeras">Remeras</option>
                <option value="buzos">Buzos & Hoodies</option>
                <option value="pantalones">Pantalones</option>
                <option value="accesorios">Accesorios</option>
              </select>
            </div>
          </div>
          
          <div>
            <label class="block text-gray-600 font-semibold mb-2">Descripción</label>
            <textarea 
              x-model="newProduct.description"
              rows="3"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
              placeholder="Descripción detallada del producto..."
            ></textarea>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Precio ($)</label>
              <input 
                type="number" 
                x-model="newProduct.price"
                step="0.01"
                min="0"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                placeholder="0.00"
                required
              >
            </div>
            
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Descuento (%)</label>
              <input 
                type="number" 
                x-model="newProduct.discount"
                min="0"
                max="100"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                placeholder="0"
              >
            </div>
            
            <div>
              <label class="block text-gray-600 font-semibold mb-2">URL de Imagen</label>
              <input 
                type="url" 
                x-model="newProduct.image"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                placeholder="https://ejemplo.com/imagen.jpg"
                required
              >
            </div>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Stock Maipú</label>
              <input 
                type="number" 
                x-model="newProduct.stock.maipu"
                min="0"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                placeholder="0"
                required
              >
            </div>
            
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Stock La Rioja</label>
              <input 
                type="number" 
                x-model="newProduct.stock.larioja"
                min="0"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                placeholder="0"
                required
              >
            </div>
          </div>
          
          <div class="flex justify-end space-x-4 pt-6">
            <button 
              type="button" 
              @click="showAddProductModal = false"
              class="px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-xl transition duration-300 font-semibold shadow-lg"
            >
              CANCELAR
            </button>
            <button 
              type="submit"
              class="px-6 py-3 bg-primary hover:bg-purple-700 text-white rounded-xl transition duration-300 font-semibold shadow-lg"
            >
              AGREGAR PRODUCTO
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Edit Product Modal -->
  <div x-show="showEditProductModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay" @click="showEditProductModal = false">
    <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto modal-content border border-gray-200" @click.stop>
      <div class="p-8">
        <div class="flex justify-between items-center mb-8">
          <h2 class="text-2xl font-black text-dark">EDITAR PRODUCTO</h2>
          <button @click="showEditProductModal = false" class="text-gray-400 hover:text-primary transition duration-300 p-2">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        
        <form @submit.prevent="updateProduct()" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Nombre del Producto</label>
              <input 
                type="text" 
                x-model="editingProduct.name"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                required
              >
            </div>
            
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Categoría</label>
              <select 
                x-model="editingProduct.category"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                required
              >
                <option value="remeras">Remeras</option>
                <option value="buzos">Buzos & Hoodies</option>
                <option value="pantalones">Pantalones</option>
                <option value="accesorios">Accesorios</option>
              </select>
            </div>
          </div>
          
          <div>
            <label class="block text-gray-600 font-semibold mb-2">Descripción</label>
            <textarea 
              x-model="editingProduct.description"
              rows="3"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
            ></textarea>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Precio ($)</label>
              <input 
                type="number" 
                x-model="editingProduct.price"
                step="0.01"
                min="0"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                required
              >
            </div>
            
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Descuento (%)</label>
              <input 
                type="number" 
                x-model="editingProduct.discount"
                min="0"
                max="100"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
              >
            </div>
            
            <div>
              <label class="block text-gray-600 font-semibold mb-2">URL de Imagen</label>
              <input 
                type="url" 
                x-model="editingProduct.image"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                required
              >
            </div>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Stock Maipú</label>
              <input 
                type="number" 
                x-model="editingProduct.stock.maipu"
                min="0"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                required
              >
            </div>
            
            <div>
              <label class="block text-gray-600 font-semibold mb-2">Stock La Rioja</label>
              <input 
                type="number" 
                x-model="editingProduct.stock.larioja"
                min="0"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
                required
              >
            </div>
          </div>
          
          <div class="flex justify-end space-x-4 pt-6">
            <button 
              type="button" 
              @click="showEditProductModal = false"
              class="px-6 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-xl transition duration-300 font-semibold shadow-lg"
            >
              CANCELAR
            </button>
            <button 
              type="submit"
              class="px-6 py-3 bg-primary hover:bg-purple-700 text-white rounded-xl transition duration-300 font-semibold shadow-lg"
            >
              ACTUALIZAR PRODUCTO
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Login Modal -->
  <div x-show="showLoginModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-overlay" @click="showLoginModal = false">
    <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full modal-content border border-gray-200" @click.stop>
      <div class="p-8">
        <div class="flex justify-between items-center mb-8">
          <h2 class="text-2xl font-black text-dark">INICIAR SESIÓN</h2>
          <button @click="showLoginModal = false" class="text-gray-400 hover:text-primary transition duration-300 p-2">
            <i class="fas fa-times text-xl"></i>
          </button>
        </div>
        
        <form @submit.prevent="login()">
          <div class="mb-6">
            <label class="block text-gray-600 font-semibold mb-2">Email</label>
            <input 
              type="email" 
              x-model="loginForm.email"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
              placeholder="tu@email.com"
              required
            >
          </div>
          
          <div class="mb-6">
            <label class="block text-gray-600 font-semibold mb-2">Contraseña</label>
            <input 
              type="password" 
              x-model="loginForm.password"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"
              placeholder="••••••••"
              required
            >
          </div>
          
          <button type="submit" class="w-full bg-primary hover:bg-purple-700 text-white py-4 rounded-xl transition duration-300 font-semibold shadow-lg transform hover:scale-105">
            INICIAR SESIÓN
          </button>
        </form>
        
        <div class="mt-6 p-4 bg-gray-50 rounded-xl border border-gray-200">
          <p class="text-gray-600 text-sm text-center mb-2 font-semibold">Credenciales de demostración:</p>
          <p class="text-gray-500 text-xs text-center mb-1"><strong>Admin:</strong> admin@urbanstock.com / admin123</p>
          <p class="text-gray-500 text-xs text-center"><strong>Usuario:</strong> usuario@urbanstock.com / usuario123</p>
        </div>
        
        <div class="mt-6 text-center">
          <p class="text-gray-600">¿No tienes cuenta? <span class="text-primary font-semibold">Registro automático con tu email</span></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-dark text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-2xl font-black text-accent mb-4">UrbanStock <span class="text-white">Pro</span></h3>
          <p class="text-gray-400 mb-4">Sistema profesional de gestión de inventario para retailers modernos.</p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-accent transition duration-300">
              <i class="fab fa-instagram text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-accent transition duration-300">
              <i class="fab fa-facebook text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-accent transition duration-300">
              <i class="fab fa-linkedin text-xl"></i>
            </a>
          </div>
        </div>
        
        <div>
          <h4 class="text-white font-bold mb-4">SOLUCIONES</h4>
          <ul class="space-y-2">
            <li><a href="#" class="text-gray-400 hover:text-accent transition duration-300">Gestión de Inventario</a></li>
            <li><a href="#" class="text-gray-400 hover:text-accent transition duration-300">Control de Stock</a></li>
            <li><a href="#" class="text-gray-400 hover:text-accent transition duration-300">Analytics Avanzados</a></li>
            <li><a href="#" class="text-gray-400 hover:text-accent transition duration-300">Reportes Automáticos</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-white font-bold mb-4">SOPORTE</h4>
          <ul class="space-y-2">
            <li><a href="#" class="text-gray-400 hover:text-accent transition duration-300">Centro de Ayuda</a></li>
            <li><a href="#" class="text-gray-400 hover:text-accent transition duration-300">Documentación</a></li>
            <li><a href="#" class="text-gray-400 hover:text-accent transition duration-300">Contacto Técnico</a></li>
            <li><a href="#" class="text-gray-400 hover:text-accent transition duration-300">Soporte 24/7</a></li>
          </ul>
        </div>
        
        <div>
          <h4 class="text-white font-bold mb-4">CONTACTO</h4>
          <div class="space-y-3">
            <p class="text-gray-400">
              <i class="fas fa-envelope text-accent mr-2"></i>
              soporte@urbanstock.com
            </p>
            <p class="text-gray-400">
              <i class="fas fa-phone text-accent mr-2"></i>
              +54 11 1234-5678
            </p>
            <p class="text-gray-400">
              <i class="fas fa-map-marker-alt text-accent mr-2"></i>
              Buenos Aires, Argentina
            </p>
          </div>
        </div>
      </div>
      
      <div class="border-t border-gray-700 mt-8 pt-8 text-center">
        <p class="text-gray-500">&copy; 2024 UrbanStock Pro. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <script>
    function appData() {
      return {
        // Estado de la aplicación
        loading: false,
        currentView: 'home',
        currentCategory: 'todos',
        currentUser: null,
        isAdmin: false,
        cartOpen: false,
        showLoginModal: false,
        showAddProductModal: false,
        showEditProductModal: false,
        productDetailModal: null,
        selectedSucursal: 'maipu',
        searchTerm: '',
        isSearching: false,
        sortOption: 'newest',
        
        // Formularios
        loginForm: {
          email: '',
          password: ''
        },
        
        newProduct: {
          name: '',
          category: '',
          description: '',
          price: 0,
          discount: 0,
          image: '',
          stock: {
            maipu: 0,
            larioja: 0
          }
        },
        
        editingProduct: null,
        
        // Notificaciones
        toast: {
          visible: false,
          message: '',
          type: 'success'
        },
        
        // Datos de la aplicación
        products: [
          {
            id: 1,
            name: 'Remera Oversized Negra',
            category: 'remeras',
            price: 12999.99,
            discount: 15,
            image: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            stock: { maipu: 12, larioja: 8 },
            description: 'Remera oversized de algodón premium, perfecta para looks urbanos. Corte moderno y comfort garantizado.'
          },
          {
            id: 2,
            name: 'Hoodie Urban Essentials',
            category: 'buzos',
            price: 25999.99,
            discount: 0,
            image: 'https://images.unsplash.com/photo-1556821840-3a63f95609a7?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            stock: { maipu: 5, larioja: 7 },
            description: 'Hoodie con capucha y bolsillo canguro, fabricado en frisa de alta calidad. Ideal para climas fríos.'
          },
          {
            id: 3,
            name: 'Jogger Cargo Negro',
            category: 'pantalones',
            price: 21999.99,
            discount: 10,
            image: 'https://images.unsplash.com/photo-1586790170083-2f9ceadc732d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            stock: { maipu: 9, larioja: 6 },
            description: 'Pantalón jogger estilo cargo con múltiples bolsillos funcionales. Tiro medio y ajuste perfecto.'
          },
          {
            id: 4,
            name: 'Gorra Trucker Classic',
            category: 'accesorios',
            price: 8999.99,
            discount: 20,
            image: 'https://images.unsplash.com/photo-1588850561407-ed78c282e89b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            stock: { maipu: 15, larioja: 12 },
            description: 'Gorra trucker con diseño clásico y ajuste trasero. Perfecta para completar tu outfit urbano.'
          }
        ],
        
        cart: {
          items: []
        },
        
        orders: [],
        
        userProfile: null,
        
        // Computed properties
        get categoryTitle() {
          const titles = {
            'todos': 'TODOS LOS PRODUCTOS',
            'remeras': 'REMERAS URBANAS',
            'buzos': 'BUZOS & HOODIES',
            'pantalones': 'PANTALONES',
            'accesorios': 'ACCESORIOS',
            'ofertas': 'OFERTAS ESPECIALES'
          };
          return titles[this.currentCategory] || 'PRODUCTOS';
        },
        
        get filteredProducts() {
          let filtered = [...this.products];
          
          // Filtrar por categoría
          if (this.currentCategory !== 'todos') {
            if (this.currentCategory === 'ofertas') {
              filtered = filtered.filter(product => product.discount > 0);
            } else {
              filtered = filtered.filter(product => product.category === this.currentCategory);
            }
          }
          
          // Filtrar por búsqueda
          if (this.isSearching && this.searchTerm) {
            const term = this.searchTerm.toLowerCase();
            filtered = filtered.filter(product => 
              product.name.toLowerCase().includes(term) || 
              product.category.toLowerCase().includes(term) ||
              (product.description && product.description.toLowerCase().includes(term))
            );
          }
          
          // Ordenar
          switch (this.sortOption) {
            case 'price-low':
              filtered.sort((a, b) => {
                const priceA = a.discount ? this.calculateDiscountPrice(a.price, a.discount) : a.price;
                const priceB = b.discount ? this.calculateDiscountPrice(b.price, b.discount) : b.price;
                return priceA - priceB;
              });
              break;
            case 'price-high':
              filtered.sort((a, b) => {
                const priceA = a.discount ? this.calculateDiscountPrice(a.price, a.discount) : a.price;
                const priceB = b.discount ? this.calculateDiscountPrice(b.price, b.discount) : b.price;
                return priceB - priceA;
              });
              break;
            case 'discount':
              filtered.sort((a, b) => (b.discount || 0) - (a.discount || 0));
              break;
            case 'stock':
              filtered.sort((a, b) => {
                const stockA = a.stock.maipu + a.stock.larioja;
                const stockB = b.stock.maipu + b.stock.larioja;
                return stockB - stockA;
              });
              break;
            case 'newest':
            default:
              filtered.sort((a, b) => b.id - a.id);
              break;
          }
          
          return filtered;
        },
        
        get cartTotal() {
          return this.cart.items.reduce((total, item) => {
            return total + (item.price * item.quantity);
          }, 0);
        },
        
        get searchResults() {
          if (!this.searchTerm) return [];
          const term = this.searchTerm.toLowerCase();
          return this.products.filter(product => 
            product.name.toLowerCase().includes(term) || 
            product.category.toLowerCase().includes(term) ||
            (product.description && product.description.toLowerCase().includes(term))
          );
        },
        
        get lowStockCount() {
          return this.products.filter(product => 
            product.stock.maipu < 5 || product.stock.larioja < 5
          ).length;
        },
        
        get totalStock() {
          return this.products.reduce((total, product) => {
            return total + product.stock.maipu + product.stock.larioja;
          }, 0);
        },
        
        get totalRevenue() {
          return this.orders.reduce((total, order) => total + order.total, 0);
        },
        
        // Métodos
        init() {
          this.loadFromLocalStorage();
          this.checkAdminStatus();
        },
        
        loadFromLocalStorage() {
          // Cargar productos
          const savedProducts = localStorage.getItem('urbanstock_products');
          if (savedProducts) {
            this.products = JSON.parse(savedProducts);
          }
          
          // Cargar carrito
          const savedCart = localStorage.getItem('urbanstock_cart');
          if (savedCart) {
            this.cart = JSON.parse(savedCart);
          }
          
          // Cargar usuario
          const savedUser = localStorage.getItem('urbanstock_user');
          if (savedUser) {
            this.currentUser = JSON.parse(savedUser);
          }
          
          // Cargar pedidos
          const savedOrders = localStorage.getItem('urbanstock_orders');
          if (savedOrders) {
            this.orders = JSON.parse(savedOrders);
          }
        },
        
        saveToLocalStorage() {
          localStorage.setItem('urbanstock_products', JSON.stringify(this.products));
          localStorage.setItem('urbanstock_cart', JSON.stringify(this.cart));
          if (this.currentUser) {
            localStorage.setItem('urbanstock_user', JSON.stringify(this.currentUser));
          }
          localStorage.setItem('urbanstock_orders', JSON.stringify(this.orders));
        },
        
        setCategory(category) {
          this.currentCategory = category;
          this.scrollToProducts();
        },
        
        scrollToProducts() {
          const productsSection = document.getElementById('products');
          if (productsSection) {
            productsSection.scrollIntoView({ 
              behavior: 'smooth',
              block: 'start'
            });
          }
        },
        
        toggleCart() {
          this.cartOpen = !this.cartOpen;
        },
        
        addToCart(product) {
          // Verificar stock disponible
          const totalStock = product.stock.maipu + product.stock.larioja;
          if (totalStock === 0) {
            this.showToast('Producto sin stock disponible', 'error');
            return;
          }
          
          // Verificar si el producto ya está en el carrito
          const existingItemIndex = this.cart.items.findIndex(item => item.id === product.id);
          
          if (existingItemIndex !== -1) {
            // Si ya existe, incrementar la cantidad
            this.cart.items[existingItemIndex].quantity += 1;
          } else {
            // Si no existe, agregar nuevo item
            this.cart.items.push({
              id: product.id,
              name: product.name,
              price: product.discount ? this.calculateDiscountPrice(product.price, product.discount) : product.price,
              image: product.image,
              quantity: 1
            });
          }
          
          this.saveToLocalStorage();
          this.showToast(`${product.name} agregado al carrito`, 'success');
          
          if (!this.cartOpen) {
            this.toggleCart();
          }
        },
        
        removeFromCart(index) {
          this.cart.items.splice(index, 1);
          this.saveToLocalStorage();
          this.showToast('Producto eliminado del carrito', 'success');
        },
        
        updateCartItemQuantity(index, newQuantity) {
          if (newQuantity < 1) {
            this.removeFromCart(index);
            return;
          }
          
          this.cart.items[index].quantity = newQuantity;
          this.saveToLocalStorage();
        },
        
        checkout() {
          if (this.cart.items.length === 0) {
            this.showToast('El carrito está vacío', 'error');
            return;
          }
          
          if (!this.currentUser) {
            this.showLoginModal = true;
            this.showToast('Inicia sesión para finalizar tu compra', 'error');
            return;
          }
          
          // Verificar stock antes de procesar
          for (const item of this.cart.items) {
            const product = this.products.find(p => p.id === item.id);
            const totalStock = product.stock.maipu + product.stock.larioja;
            if (item.quantity > totalStock) {
              this.showToast(`Stock insuficiente para ${product.name}`, 'error');
              return;
            }
          }
          
          // Crear pedido
          const order = {
            id: 'URB-' + Date.now(),
            date: new Date().toISOString(),
            items: [...this.cart.items],
            total: this.cartTotal + (this.selectedSucursal === 'delivery' ? 500 : 0),
            sucursal: this.selectedSucursal,
            status: 'Confirmado'
          };
          
          // Actualizar stock
          this.cart.items.forEach(item => {
            const product = this.products.find(p => p.id === item.id);
            if (product && this.selectedSucursal !== 'delivery') {
              // Restar del stock de la sucursal seleccionada
              product.stock[this.selectedSucursal] = Math.max(0, product.stock[this.selectedSucursal] - item.quantity);
            }
          });
          
          // Agregar a historial de pedidos
          this.orders.unshift(order);
          
          // Limpiar carrito
          this.cart.items = [];
          this.saveToLocalStorage();
          
          // Cerrar carrito
          this.toggleCart();
          
          this.showToast('¡Pedido realizado con éxito!', 'success');
        },
        
        showProductDetail(product) {
          this.productDetailModal = product;
        },
        
        performSearch() {
          if (this.searchTerm.trim()) {
            this.isSearching = true;
            this.currentCategory = 'todos';
          } else {
            this.isSearching = false;
          }
        },
        
        clearSearch() {
          this.searchTerm = '';
          this.isSearching = false;
        },
        
        sortProducts() {
          // El sorting se maneja en la computed property filteredProducts
        },
        
        login() {
          this.loading = true;
          
          setTimeout(() => {
            // Simular autenticación
            if (this.loginForm.email === 'admin@urbanstock.com' && this.loginForm.password === 'admin123') {
              this.currentUser = {
                email: this.loginForm.email,
                name: 'Administrador',
                id: Date.now()
              };
              this.isAdmin = true;
            } else if (this.loginForm.email === 'usuario@urbanstock.com' && this.loginForm.password === 'usuario123') {
              this.currentUser = {
                email: this.loginForm.email,
                name: 'Usuario Demo',
                id: Date.now()
              };
              this.isAdmin = false;
            } else {
              // Registro automático
              this.currentUser = {
                email: this.loginForm.email,
                name: this.loginForm.email.split('@')[0],
                id: Date.now()
              };
              this.isAdmin = false;
            }
            
            this.userProfile = {
              name: this.currentUser.name,
              email: this.currentUser.email,
              joinDate: new Date().toISOString()
            };
            
            this.showLoginModal = false;
            this.loginForm = { email: '', password: '' };
            this.loading = false;
            this.saveToLocalStorage();
            
            this.showToast(`Bienvenido ${this.currentUser.name}`, 'success');
          }, 1000);
        },
        
        logout() {
          this.currentUser = null;
          this.isAdmin = false;
          this.userProfile = null;
          this.currentView = 'home';
          this.saveToLocalStorage();
          this.showToast('Sesión cerrada correctamente', 'success');
        },
        
        checkAdminStatus() {
          this.isAdmin = this.currentUser && this.currentUser.email === 'admin@urbanstock.com';
        },
        
        showProfile() {
          this.currentView = 'profile';
        },
        
        showAdminPanel() {
          if (this.isAdmin) {
            this.currentView = 'admin';
          } else {
            this.showToast('No tienes permisos de administrador', 'error');
          }
        },
        
        // Funciones de administración de productos
        addNewProduct() {
          const newProduct = {
            id: Date.now(),
            name: this.newProduct.name,
            category: this.newProduct.category,
            description: this.newProduct.description,
            price: parseFloat(this.newProduct.price),
            discount: parseInt(this.newProduct.discount) || 0,
            image: this.newProduct.image,
            stock: {
              maipu: parseInt(this.newProduct.stock.maipu),
              larioja: parseInt(this.newProduct.stock.larioja)
            }
          };
          
          this.products.unshift(newProduct);
          this.saveToLocalStorage();
          
          // Limpiar formulario
          this.newProduct = {
            name: '',
            category: '',
            description: '',
            price: 0,
            discount: 0,
            image: '',
            stock: {
              maipu: 0,
              larioja: 0
            }
          };
          
          this.showAddProductModal = false;
          this.showToast('Producto agregado correctamente', 'success');
        },
        
        editProduct(product) {
          this.editingProduct = { ...product };
          this.showEditProductModal = true;
        },
        
        updateProduct() {
          const index = this.products.findIndex(p => p.id === this.editingProduct.id);
          if (index !== -1) {
            this.products[index] = { ...this.editingProduct };
            this.saveToLocalStorage();
            this.showEditProductModal = false;
            this.showToast('Producto actualizado correctamente', 'success');
          }
        },
        
        deleteProduct(productId) {
          if (confirm('¿Estás seguro de que deseas eliminar este producto? Esta acción no se puede deshacer.')) {
            const index = this.products.findIndex(p => p.id === productId);
            if (index !== -1) {
              this.products.splice(index, 1);
              this.saveToLocalStorage();
              this.showToast('Producto eliminado correctamente', 'success');
            }
          }
        },
        
        updateProductStock(productId, sucursal, newStock) {
          const product = this.products.find(p => p.id === productId);
          if (product) {
            product.stock[sucursal] = parseInt(newStock);
            this.saveToLocalStorage();
            this.showToast('Stock actualizado correctamente', 'success');
          }
        },
        
        // Utilidades
        calculateDiscountPrice(price, discount) {
          return price * (100 - discount) / 100;
        },
        
        formatCategory(category) {
          const categories = {
            'remeras': 'REMERAS',
            'buzos': 'BUZOS & HOODIES',
            'pantalones': 'PANTALONES',
            'accesorios': 'ACCESORIOS'
          };
          return categories[category] || category.toUpperCase();
        },
        
        getCategoryBadgeClass(category) {
          const classes = {
            'remeras': 'bg-blue-100 text-blue-800',
            'buzos': 'bg-purple-100 text-purple-800',
            'pantalones': 'bg-green-100 text-green-800',
            'accesorios': 'bg-yellow-100 text-yellow-800'
          };
          return classes[category] || 'bg-gray-100 text-gray-800';
        },
        
        getStatusBadgeClass(status) {
          const classes = {
            'Confirmado': 'bg-blue-100 text-blue-800',
            'Procesando': 'bg-yellow-100 text-yellow-800',
            'Enviado': 'bg-purple-100 text-purple-800',
            'Entregado': 'bg-green-100 text-green-800'
          };
          return classes[status] || 'bg-gray-100 text-gray-800';
        },
        
        getSucursalName(sucursal) {
          const names = {
            'maipu': 'POPEYE MAIPU',
            'larioja': 'POPEYE LA RIOJA',
            'delivery': 'ENVÍO A DOMICILIO'
          };
          return names[sucursal] || sucursal;
        },
        
        formatDate(dateString) {
          const options = { year: 'numeric', month: 'long', day: 'numeric' };
          return new Date(dateString).toLocaleDateString('es-ES', options);
        },
        
        showToast(message, type = 'success') {
          this.toast.message = message;
          this.toast.type = type;
          this.toast.visible = true;
          
          setTimeout(() => {
            this.toast.visible = false;
          }, 3000);
        }
      }
    }
  </script>
</body>
</html>